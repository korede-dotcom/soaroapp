<!DOCTYPE html>
<html lang="zxx">
<head>
    <!-- Title -->
	<title>Soaro - Real Estate Admin Dashboard Template</title>
 
	<!-- Meta -->
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="author" content="DexignZone">
	<meta name="robots" content="index, follow">
   
	<meta name="keywords" content="admin, dashboard, admin dashboard, admin template, template, admin panel, administration, analytics, bootstrap, hospital admin, modern, property, real estate, responsive, creative, retina ready, modern Dashboard">
	<meta name="description" content="Your Ultimate Real Estate Admin Dashboard Template. Streamline property management, analyze market trends, and boost productivity with our intuitive and feature-rich solution. Elevate your real estate business today!">
   
	<meta property="og:title" content="Omah - Real Estate Admin Dashboard Template">
	<meta property="og:description" content="Your Ultimate Real Estate Admin Dashboard Template. Streamline property management, analyze market trends, and boost productivity with our intuitive and feature-rich solution. Elevate your real estate business today!">
	<meta property="og:image" content="https://omah.dexignzone.com/xhtml/social-image.png">
	<meta name="format-detection" content="telephone=no">
   
	<meta name="twitter:title" content="Omah - Real Estate Admin Dashboard Template">
	<meta name="twitter:description" content="Your Ultimate Real Estate Admin Dashboard Template. Streamline property management, analyze market trends, and boost productivity with our intuitive and feature-rich solution. Elevate your real estate business today!">
	<meta name="twitter:image" content="https://omah.dexignzone.com/xhtml/social-image.png">
	<meta name="twitter:card" content="summary_large_image">

	<!-- MOBILE SPECIFIC -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicon.png">
	
    <link href="vendor/bootstrap-select/dist/css/bootstrap-select.min.css" rel="stylesheet">
	<link href="vendor/owl-carousel/owl.carousel.css" rel="stylesheet">
	<link href="vendor/lightgallery/dist/css/lightgallery.css" rel="stylesheet">
	<link href="vendor/lightgallery/dist/css/lg-thumbnail.css" rel="stylesheet">
    <link href="vendor/lightgallery/dist/css/lg-zoom.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
   
    <style>
        .card-body-card{
            background: #5b5101;
        }
    </style>


  

</head>
<body>

    <!--*******************
        Preloader start
    ********************-->
    <div id="preloader">
        <div class="sk-three-bounce">
            <div class="sk-child sk-bounce1"></div>
            <div class="sk-child sk-bounce2"></div>
            <div class="sk-child sk-bounce3"></div>
        </div>
    </div>
    <!--*******************
        Preloader end
    ********************-->

    <!--**********************************
        Main wrapper start
    ***********************************-->
    <div id="main-wrapper">

		<div id="loaderOverlay">
            <div class="spinner"></div>
        </div>

        <!--**********************************
            Nav header start
        ***********************************-->
        <div class="nav-header">
            <a href="index.html" class="brand-logo">
                <img class="logo-abbr" src="images/logo.png" alt="/">
                <h6 class="logo-compact">Soaro</h6>
                <img class="brand-title" src="images/logo-text.png" alt="/">
            </a>

            <div class="nav-control">
                <div class="hamburger">
                    <span class="line"></span><span class="line"></span><span class="line"></span>
                </div>
            </div>
        </div>
        <!--**********************************
            Nav header end
        ***********************************-->
		
		<!--**********************************
            Chat box start
        ***********************************-->
		<div class="chatbox">
			<div class="chatbox-close"></div>
			<div class="custom-tab-1">
				<ul class="nav nav-tabs">
					<li class="nav-item">
						<a class="nav-link" data-bs-toggle="tab" href="property-details.html#notes">Notes</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" data-bs-toggle="tab" href="property-details.html#alerts">Alerts</a>
					</li>
					<li class="nav-item">
						<a class="nav-link active" data-bs-toggle="tab" href="property-details.html#chat">Chat</a>
					</li>
				</ul>
				<div class="tab-content">
					<div class="tab-pane fade active show" id="chat" role="tabpanel">
						<div class="card mb-sm-3 mb-md-0 contacts_card dz-chat-user-box">
							<div class="card-header chat-list-header text-center">
								<a href="javascript:void(0);"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18px" height="18px" viewBox="0 0 24 24" version="1.1"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><rect fill="#000000" x="4" y="11" width="16" height="2" rx="1"/><rect fill="#000000" opacity="0.3" transform="translate(12.000000, 12.000000) rotate(-270.000000) translate(-12.000000, -12.000000) " x="4" y="11" width="16" height="2" rx="1"/></g></svg></a>
								<div>
									<h6 class="mb-1">Chat List</h6>
									<p class="mb-0">Show All</p>
								</div>
								<a href="javascript:void(0);"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18px" height="18px" viewBox="0 0 24 24" version="1.1"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><rect x="0" y="0" width="24" height="24"/><circle fill="#000000" cx="5" cy="12" r="2"/><circle fill="#000000" cx="12" cy="12" r="2"/><circle fill="#000000" cx="19" cy="12" r="2"/></g></svg></a>
							</div>
							<div class="card-body contacts_body p-0 dz-scroll  " id="DZ_W_Contacts_Body">
								<ul class="contacts">
									<li class="name-first-letter">A</li>
									<li class="active dz-chat-user">
										<div class="d-flex bd-highlight">
											<div class="img_cont">
												<img src="images/avatar/1.jpg" class="rounded-circle user_img" alt="/">
												<span class="online_icon"></span>
											</div>
											<div class="user_info">
												<span>Archie Parker</span>
												<p>Kalid is online</p>
											</div>
										</div>
									</li>
									<li class="dz-chat-user">
										<div class="d-flex bd-highlight">
											<div class="img_cont">
												<img src="images/avatar/2.jpg" class="rounded-circle user_img" alt="/">
												<span class="online_icon offline"></span>
											</div>
											<div class="user_info">
												<span>Alfie Mason</span>
												<p>Taherah left 7 mins ago</p>
											</div>
										</div>
									</li>
									<li class="dz-chat-user">
										<div class="d-flex bd-highlight">
											<div class="img_cont">
												<img src="images/avatar/3.jpg" class="rounded-circle user_img" alt="/">
												<span class="online_icon"></span>
											</div>
											<div class="user_info">
												<span>AharlieKane</span>
												<p>Sami is online</p>
											</div>
										</div>
									</li>
									<li class="dz-chat-user">
										<div class="d-flex bd-highlight">
											<div class="img_cont">
												<img src="images/avatar/4.jpg" class="rounded-circle user_img" alt="/">
												<span class="online_icon offline"></span>
											</div>
											<div class="user_info">
												<span>Athan Jacoby</span>
												<p>Nargis left 30 mins ago</p>
											</div>
										</div>
									</li>
									<li class="name-first-letter">B</li>
									<li class="dz-chat-user">
										<div class="d-flex bd-highlight">
											<div class="img_cont">
												<img src="images/avatar/5.jpg" class="rounded-circle user_img" alt="/">
												<span class="online_icon offline"></span>
											</div>
											<div class="user_info">
												<span>Bashid Samim</span>
												<p>Rashid left 50 mins ago</p>
											</div>
										</div>
									</li>
									<li class="dz-chat-user">
										<div class="d-flex bd-highlight">
											<div class="img_cont">
												<img src="images/avatar/1.jpg" class="rounded-circle user_img" alt="/">
												<span class="online_icon"></span>
											</div>
											<div class="user_info">
												<span>Breddie Ronan</span>
												<p>Kalid is online</p>
											</div>
										</div>
									</li>
									<li class="dz-chat-user">
										<div class="d-flex bd-highlight">
											<div class="img_cont">
												<img src="images/avatar/2.jpg" class="rounded-circle user_img" alt="/">
												<span class="online_icon offline"></span>
											</div>
											<div class="user_info">
												<span>Ceorge Carson</span>
												<p>Taherah left 7 mins ago</p>
											</div>
										</div>
									</li>
									<li class="name-first-letter">D</li>
									<li class="dz-chat-user">
										<div class="d-flex bd-highlight">
											<div class="img_cont">
												<img src="images/avatar/3.jpg" class="rounded-circle user_img" alt="/">
												<span class="online_icon"></span>
											</div>
											<div class="user_info">
												<span>Darry Parker</span>
												<p>Sami is online</p>
											</div>
										</div>
									</li>
									<li class="dz-chat-user">
										<div class="d-flex bd-highlight">
											<div class="img_cont">
												<img src="images/avatar/4.jpg" class="rounded-circle user_img" alt="/">
												<span class="online_icon offline"></span>
											</div>
											<div class="user_info">
												<span>Denry Hunter</span>
												<p>Nargis left 30 mins ago</p>
											</div>
										</div>
									</li>
									<li class="name-first-letter">J</li>
									<li class="dz-chat-user">
										<div class="d-flex bd-highlight">
											<div class="img_cont">
												<img src="images/avatar/5.jpg" class="rounded-circle user_img" alt="/">
												<span class="online_icon offline"></span>
											</div>
											<div class="user_info">
												<span>Jack Ronan</span>
												<p>Rashid left 50 mins ago</p>
											</div>
										</div>
									</li>
									<li class="dz-chat-user">
										<div class="d-flex bd-highlight">
											<div class="img_cont">
												<img src="images/avatar/1.jpg" class="rounded-circle user_img" alt="/">
												<span class="online_icon"></span>
											</div>
											<div class="user_info">
												<span>Jacob Tucker</span>
												<p>Kalid is online</p>
											</div>
										</div>
									</li>
									<li class="dz-chat-user">
										<div class="d-flex bd-highlight">
											<div class="img_cont">
												<img src="images/avatar/2.jpg" class="rounded-circle user_img" alt="/">
												<span class="online_icon offline"></span>
											</div>
											<div class="user_info">
												<span>James Logan</span>
												<p>Taherah left 7 mins ago</p>
											</div>
										</div>
									</li>
									<li class="dz-chat-user">
										<div class="d-flex bd-highlight">
											<div class="img_cont">
												<img src="images/avatar/3.jpg" class="rounded-circle user_img" alt="/">
												<span class="online_icon"></span>
											</div>
											<div class="user_info">
												<span>Joshua Weston</span>
												<p>Sami is online</p>
											</div>
										</div>
									</li>
									<li class="name-first-letter">O</li>
									<li class="dz-chat-user">
										<div class="d-flex bd-highlight">
											<div class="img_cont">
												<img src="images/avatar/4.jpg" class="rounded-circle user_img" alt="/">
												<span class="online_icon offline"></span>
											</div>
											<div class="user_info">
												<span>Oliver Acker</span>
												<p>Nargis left 30 mins ago</p>
											</div>
										</div>
									</li>
									<li class="dz-chat-user">
										<div class="d-flex bd-highlight">
											<div class="img_cont">
												<img src="images/avatar/5.jpg" class="rounded-circle user_img" alt="/">
												<span class="online_icon offline"></span>
											</div>
											<div class="user_info">
												<span>Oscar Weston</span>
												<p>Rashid left 50 mins ago</p>
											</div>
										</div>
									</li>
								</ul>
							</div>
						</div>
						<div class="card chat dz-chat-history-box d-none">
							<div class="card-header chat-list-header text-center">
								<a href="javascript:void(0);" class="dz-chat-history-back">
									<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18px" height="18px" viewBox="0 0 24 24" version="1.1"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><polygon points="0 0 24 0 24 24 0 24"/><rect fill="#000000" opacity="0.3" transform="translate(15.000000, 12.000000) scale(-1, 1) rotate(-90.000000) translate(-15.000000, -12.000000) " x="14" y="7" width="2" height="10" rx="1"/><path d="M3.7071045,15.7071045 C3.3165802,16.0976288 2.68341522,16.0976288 2.29289093,15.7071045 C1.90236664,15.3165802 1.90236664,14.6834152 2.29289093,14.2928909 L8.29289093,8.29289093 C8.67146987,7.914312 9.28105631,7.90106637 9.67572234,8.26284357 L15.6757223,13.7628436 C16.0828413,14.136036 16.1103443,14.7686034 15.7371519,15.1757223 C15.3639594,15.5828413 14.7313921,15.6103443 14.3242731,15.2371519 L9.03007346,10.3841355 L3.7071045,15.7071045 Z" fill="#000000" fill-rule="nonzero" transform="translate(9.000001, 11.999997) scale(-1, -1) rotate(90.000000) translate(-9.000001, -11.999997) "/></g></svg>
								</a>
								<div>
									<h6 class="mb-1">Chat with Khelesh</h6>
									<p class="mb-0 text-success">Online</p>
								</div>							
								<div class="dropdown">
									<a href="javascript:void(0);" data-bs-toggle="dropdown" aria-expanded="false"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18px" height="18px" viewBox="0 0 24 24" version="1.1"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><rect x="0" y="0" width="24" height="24"/><circle fill="#000000" cx="5" cy="12" r="2"/><circle fill="#000000" cx="12" cy="12" r="2"/><circle fill="#000000" cx="19" cy="12" r="2"/></g></svg></a>
									<ul class="dropdown-menu dropdown-menu-end">
										<li class="dropdown-item"><i class="fas fa-user-circle text-primary me-2"></i> View profile</li>
										<li class="dropdown-item"><i class="fas fa-users text-primary me-2"></i> Add to close friends</li>
										<li class="dropdown-item"><i class="fas fa-plus text-primary me-2"></i> Add to group</li>
										<li class="dropdown-item"><i class="fas fa-ban text-primary me-2"></i> Block</li>
									</ul>
								</div>
							</div>
							<div class="card-body msg_card_body dz-scroll" id="DZ_W_Contacts_Body3">
								<div class="d-flex justify-content-start mb-4">
									<div class="img_cont_msg">
										<img src="images/avatar/1.jpg" class="rounded-circle user_img_msg" alt="/">
									</div>
									<div class="msg_cotainer">
										Hi, how are you samim?
										<span class="msg_time">8:40 AM, Today</span>
									</div>
								</div>
								<div class="d-flex justify-content-end mb-4">
									<div class="msg_cotainer_send">
										Hi Khalid i am good tnx how about you?
										<span class="msg_time_send">8:55 AM, Today</span>
									</div>
									<div class="img_cont_msg">
								<img src="images/avatar/2.jpg" class="rounded-circle user_img_msg" alt="/">
									</div>
								</div>
								<div class="d-flex justify-content-start mb-4">
									<div class="img_cont_msg">
										<img src="images/avatar/1.jpg" class="rounded-circle user_img_msg" alt="/">
									</div>
									<div class="msg_cotainer">
										I am good too, thank you for your chat template
										<span class="msg_time">9:00 AM, Today</span>
									</div>
								</div>
								<div class="d-flex justify-content-end mb-4">
									<div class="msg_cotainer_send">
										You are welcome
										<span class="msg_time_send">9:05 AM, Today</span>
									</div>
									<div class="img_cont_msg">
								<img src="images/avatar/2.jpg" class="rounded-circle user_img_msg" alt="/">
									</div>
								</div>
								<div class="d-flex justify-content-start mb-4">
									<div class="img_cont_msg">
										<img src="images/avatar/1.jpg" class="rounded-circle user_img_msg" alt="/">
									</div>
									<div class="msg_cotainer">
										I am looking for your next templates
										<span class="msg_time">9:07 AM, Today</span>
									</div>
								</div>
								<div class="d-flex justify-content-end mb-4">
									<div class="msg_cotainer_send">
										Ok, thank you have a good day
										<span class="msg_time_send">9:10 AM, Today</span>
									</div>
									<div class="img_cont_msg">
										<img src="images/avatar/2.jpg" class="rounded-circle user_img_msg" alt="/">
									</div>
								</div>
								<div class="d-flex justify-content-start mb-4">
									<div class="img_cont_msg">
										<img src="images/avatar/1.jpg" class="rounded-circle user_img_msg" alt="/">
									</div>
									<div class="msg_cotainer">
										Bye, see you
										<span class="msg_time">9:12 AM, Today</span>
									</div>
								</div>
								<div class="d-flex justify-content-start mb-4">
									<div class="img_cont_msg">
										<img src="images/avatar/1.jpg" class="rounded-circle user_img_msg" alt="/">
									</div>
									<div class="msg_cotainer">
										Hi, how are you samim?
										<span class="msg_time">8:40 AM, Today</span>
									</div>
								</div>
								<div class="d-flex justify-content-end mb-4">
									<div class="msg_cotainer_send">
										Hi Khalid i am good tnx how about you?
										<span class="msg_time_send">8:55 AM, Today</span>
									</div>
									<div class="img_cont_msg">
								<img src="images/avatar/2.jpg" class="rounded-circle user_img_msg" alt="/">
									</div>
								</div>
								<div class="d-flex justify-content-start mb-4">
									<div class="img_cont_msg">
										<img src="images/avatar/1.jpg" class="rounded-circle user_img_msg" alt="/">
									</div>
									<div class="msg_cotainer">
										I am good too, thank you for your chat template
										<span class="msg_time">9:00 AM, Today</span>
									</div>
								</div>
								<div class="d-flex justify-content-end mb-4">
									<div class="msg_cotainer_send">
										You are welcome
										<span class="msg_time_send">9:05 AM, Today</span>
									</div>
									<div class="img_cont_msg">
								<img src="images/avatar/2.jpg" class="rounded-circle user_img_msg" alt="/">
									</div>
								</div>
								<div class="d-flex justify-content-start mb-4">
									<div class="img_cont_msg">
										<img src="images/avatar/1.jpg" class="rounded-circle user_img_msg" alt="/">
									</div>
									<div class="msg_cotainer">
										I am looking for your next templates
										<span class="msg_time">9:07 AM, Today</span>
									</div>
								</div>
								<div class="d-flex justify-content-end mb-4">
									<div class="msg_cotainer_send">
										Ok, thank you have a good day
										<span class="msg_time_send">9:10 AM, Today</span>
									</div>
									<div class="img_cont_msg">
										<img src="images/avatar/2.jpg" class="rounded-circle user_img_msg" alt="/">
									</div>
								</div>
								<div class="d-flex justify-content-start mb-4">
									<div class="img_cont_msg">
										<img src="images/avatar/1.jpg" class="rounded-circle user_img_msg" alt="/">
									</div>
									<div class="msg_cotainer">
										Bye, see you
										<span class="msg_time">9:12 AM, Today</span>
									</div>
								</div>
							</div>
							<div class="card-footer type_msg">
								<div class="input-group">
									<textarea class="form-control" placeholder="Type your message..."></textarea>
									<div class="input-group-append">
										<button type="button" class="btn btn-primary"><i class="fas fa-location-arrow"></i></button>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="tab-pane fade" id="alerts" role="tabpanel">
						<div class="card mb-sm-3 mb-md-0 contacts_card">
							<div class="card-header chat-list-header text-center">
								<a href="javascript:void(0);"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18px" height="18px" viewBox="0 0 24 24" version="1.1"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><rect x="0" y="0" width="24" height="24"/><circle fill="#000000" cx="5" cy="12" r="2"/><circle fill="#000000" cx="12" cy="12" r="2"/><circle fill="#000000" cx="19" cy="12" r="2"/></g></svg></a>
								<div>
									<h6 class="mb-1">Notications</h6>
									<p class="mb-0">Show All</p>
								</div>
								<a href="javascript:void(0);"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18px" height="18px" viewBox="0 0 24 24" version="1.1"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><rect x="0" y="0" width="24" height="24"/><path d="M14.2928932,16.7071068 C13.9023689,16.3165825 13.9023689,15.6834175 14.2928932,15.2928932 C14.6834175,14.9023689 15.3165825,14.9023689 15.7071068,15.2928932 L19.7071068,19.2928932 C20.0976311,19.6834175 20.0976311,20.3165825 19.7071068,20.7071068 C19.3165825,21.0976311 18.6834175,21.0976311 18.2928932,20.7071068 L14.2928932,16.7071068 Z" fill="#000000" fill-rule="nonzero" opacity="0.3"/><path d="M11,16 C13.7614237,16 16,13.7614237 16,11 C16,8.23857625 13.7614237,6 11,6 C8.23857625,6 6,8.23857625 6,11 C6,13.7614237 8.23857625,16 11,16 Z M11,18 C7.13400675,18 4,14.8659932 4,11 C4,7.13400675 7.13400675,4 11,4 C14.8659932,4 18,7.13400675 18,11 C18,14.8659932 14.8659932,18 11,18 Z" fill="#000000" fill-rule="nonzero"/></g></svg></a>
							</div>
							<div class="card-body contacts_body p-0 dz-scroll" id="DZ_W_Contacts_Body1">
								<ul class="contacts">
									<li class="name-first-letter">SEVER STATUS</li>
									<li class="active">
										<div class="d-flex bd-highlight">
											<div class="img_cont primary">KK</div>
											<div class="user_info">
												<span>David Nester Birthday</span>
												<p class="text-primary">Today</p>
											</div>
										</div>
									</li>
									<li class="name-first-letter">SOCIAL</li>
									<li>
										<div class="d-flex bd-highlight">
											<div class="img_cont success">RU<i class="icon fa-birthday-cake"></i></div>
											<div class="user_info">
												<span>Perfection Simplified</span>
												<p>Jame Smith commented on your status</p>
											</div>
										</div>
									</li>
									<li class="name-first-letter">SEVER STATUS</li>
									<li>
										<div class="d-flex bd-highlight">
											<div class="img_cont primary">AU<i class="icon fas fa-user-plus"></i></div>
											<div class="user_info">
												<span>AharlieKane</span>
												<p>Sami is online</p>
											</div>
										</div>
									</li>
									<li>
										<div class="d-flex bd-highlight">
											<div class="img_cont info">MO<i class="icon fas fa-user-plus"></i></div>
											<div class="user_info">
												<span>Athan Jacoby</span>
												<p>Nargis left 30 mins ago</p>
											</div>
										</div>
									</li>
								</ul>
							</div>
							<div class="card-footer"></div>
						</div>
					</div>
					<div class="tab-pane fade" id="notes">
						<div class="card mb-sm-3 mb-md-0 note_card">
							<div class="card-header chat-list-header text-center">
								<a href="javascript:void(0);"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18px" height="18px" viewBox="0 0 24 24" version="1.1"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><rect fill="#000000" x="4" y="11" width="16" height="2" rx="1"/><rect fill="#000000" opacity="0.3" transform="translate(12.000000, 12.000000) rotate(-270.000000) translate(-12.000000, -12.000000) " x="4" y="11" width="16" height="2" rx="1"/></g></svg></a>
								<div>
									<h6 class="mb-1">Notes</h6>
									<p class="mb-0">Add New Nots</p>
								</div>
								<a href="javascript:void(0);"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18px" height="18px" viewBox="0 0 24 24" version="1.1"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><rect x="0" y="0" width="24" height="24"/><path d="M14.2928932,16.7071068 C13.9023689,16.3165825 13.9023689,15.6834175 14.2928932,15.2928932 C14.6834175,14.9023689 15.3165825,14.9023689 15.7071068,15.2928932 L19.7071068,19.2928932 C20.0976311,19.6834175 20.0976311,20.3165825 19.7071068,20.7071068 C19.3165825,21.0976311 18.6834175,21.0976311 18.2928932,20.7071068 L14.2928932,16.7071068 Z" fill="#000000" fill-rule="nonzero" opacity="0.3"/><path d="M11,16 C13.7614237,16 16,13.7614237 16,11 C16,8.23857625 13.7614237,6 11,6 C8.23857625,6 6,8.23857625 6,11 C6,13.7614237 8.23857625,16 11,16 Z M11,18 C7.13400675,18 4,14.8659932 4,11 C4,7.13400675 7.13400675,4 11,4 C14.8659932,4 18,7.13400675 18,11 C18,14.8659932 14.8659932,18 11,18 Z" fill="#000000" fill-rule="nonzero"/></g></svg></a>
							</div>
							<div class="card-body contacts_body p-0 dz-scroll" id="DZ_W_Contacts_Body2">
								<ul class="contacts">
									<li class="active">
										<div class="d-flex bd-highlight">
											<div class="user_info">
												<span>New order placed..</span>
												<p>10 Aug 2020</p>
											</div>
											<div class="ms-auto">
												<a href="javascript:void(0);" class="btn btn-primary btn-xs sharp me-1"><i class="fas fa-pencil-alt"></i></a>
												<a href="javascript:void(0);" class="btn btn-danger btn-xs sharp"><i class="fas fa-trash"></i></a>
											</div>
										</div>
									</li>
									<li>
										<div class="d-flex bd-highlight">
											<div class="user_info">
												<span>Youtube, a video-sharing website..</span>
												<p>10 Aug 2020</p>
											</div>
											<div class="ms-auto">
												<a href="javascript:void(0);" class="btn btn-primary btn-xs sharp me-1"><i class="fas fa-pencil-alt"></i></a>
												<a href="javascript:void(0);" class="btn btn-danger btn-xs sharp"><i class="fas fa-trash"></i></a>
											</div>
										</div>
									</li>
									<li>
										<div class="d-flex bd-highlight">
											<div class="user_info">
												<span>john just buy your product..</span>
												<p>10 Aug 2020</p>
											</div>
											<div class="ms-auto">
												<a href="javascript:void(0);" class="btn btn-primary btn-xs sharp me-1"><i class="fas fa-pencil-alt"></i></a>
												<a href="javascript:void(0);" class="btn btn-danger btn-xs sharp"><i class="fas fa-trash"></i></a>
											</div>
										</div>
									</li>
									<li>
										<div class="d-flex bd-highlight">
											<div class="user_info">
												<span>Athan Jacoby</span>
												<p>10 Aug 2020</p>
											</div>
											<div class="ms-auto">
												<a href="javascript:void(0);" class="btn btn-primary btn-xs sharp me-1"><i class="fas fa-pencil-alt"></i></a>
												<a href="javascript:void(0);" class="btn btn-danger btn-xs sharp"><i class="fas fa-trash"></i></a>
											</div>
										</div>
									</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!--**********************************
            Chat box End
        ***********************************-->
		
		<!--**********************************
            Header start
        ***********************************-->
		<%- include('partial/header') %>
        <!--**********************************
            Header end ti-comment-alt
        ***********************************-->

        <!--**********************************
            Sidebar start
        ***********************************-->
        <%- include('partial/nav') %>
        <!--**********************************
            Sidebar end
        ***********************************-->
		
		<!--**********************************
            Content body start
        ***********************************-->
        <div class="content-body" >
            <!-- row -->
			<div class="container-fluid">
                <div class="form-head page-titles d-flex  align-items-center">
					<div class="me-auto  d-lg-block d-block">
						<h4 class="mb-1">Property Details</h4>
						<ol class="breadcrumb">
							<li class="breadcrumb-item active"><a href="javascript:void(0)">Property</a></li>
							<li class="breadcrumb-item"><a href="javascript:void(0)"><%= lands.address%></a></li>
						</ol>
					</div>
					<!-- <a href="javascript:void(0);" class="btn btn-danger rounded me-3">Update Info</a> -->
					<button type="button" class="btn btn-primary mb-2" data-bs-toggle="modal" data-bs-target="#edit">Update Property Type</button>
                                    <!-- Modal -->
                                    <div class="modal fade" id="edit">
                                        <div class="modal-dialog modal-dialog-centered" role="document">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title">Modal title</h5>
                                                    <button type="button" class="btn-close" data-bs-dismiss="modal">
                                                    </button>
                                                </div>
                                                <div class="modal-body">
													<form id="payForm">
														<div class="mb-3 col-lg-4 col-md-6">
															<label class="form-label">Property Type</label>
															<select name="type" required class="form-control" id="propertyType">
																<option value="Lease">Lease</option>
																<option value="BOT">BOT</option>
																<option value="JV">Joint Ventures (JV)</option>
																<option value="PERSONAL">Personal (Owned)</option>
															</select>
														</div>
														<div class="form-group mb-4">
															<label class="form-label" for="start">Start Date</label>
															<input type="date" name="start" class="form-control" id="start">
															<label class="form-label" for="end">End Date</label>
															<input type="date" name="end" class="form-control" id="end">
														</div>
														<button type="submit" class="btn btn-primary" id="submitBtn">
															Submit
															<span id="loader" class="spinner-border spinner-border-sm" role="status" aria-hidden="true" style="display: none;"></span>
														</button>
													</form>
													
													
													
                                                </div>
                                                <!-- <div class="modal-footer">
                                                    <button type="button" class="btn btn-danger light" data-bs-dismiss="modal">Close</button>
                                                    <button type="button" class="btn btn-primary">Save changes</button>
                                                </div> -->
                                            </div>
                                        </div>
                                    </div>
					<a href="/property?type=past&id=<%=lands.id%>" class="btn btn-primary rounded light">See all past records</a>
					<button type="button" class="btn btn-primary mb-2" data-bs-toggle="modal" data-bs-target="#uploadmore">Upload images</button>
				</div>
				<div class="row">
					<div class="col-xl-3 col-xxl-4">
						<div class="row">
							<div class="col-xl-12">
								<div class="card bg-primary text-center">
									<div class="card-body card-body-card">
										<h2 class="fs-30 text-white">Lawyer details</h2>
										<span class="text-white font-w300">this is the lawyer details</span>
									</div>
								</div>
							</div>
                            <div class="col-xl-12 col-lg-12">
                                <% if (lands && lands.lawyer) { %>
                                    <div class="card text-center">
                                        <div class="card-body">
                                            <div class="position-relative mb-3 d-inline-block">
                                                <% if (lands.lawyer.imageUrl && lands.lawyer.imageUrl.trim() !== "") { %>
                                                    <img src="<%= lands.lawyer.imageUrl %>" alt="Lawyer Image" class="rounded" width="140">
                                                <% } else { %>
                                                    <img src="/path-to-placeholder-image.jpg" alt="No Image Available" class="rounded" width="140">
                                                <% } %>
                                                <a href="app-profile.html" class="profile-icon"><i class="las la-cog"></i></a>
                                            </div>
                                            <h2 class="text-black fs-20 font-w600">
                                                <%= lands.lawyer.firstname ? lands.lawyer.firstname : "N/A" %> 
                                                <%= lands.lawyer.lastname ? lands.lawyer.lastname : "" %>
                                            </h2>
                                            <span class="mb-3 text-black d-block">
                                                Company Name: <%= lands.lawyer.companyName ? lands.lawyer.companyName : "Not Provided" %>
                                            </span>
                                            <p>Office Address: <%= lands.lawyer.officeAddress ? lands.lawyer.officeAddress : "Not Available" %></p>
                                            <p>Home Address: <%= lands.lawyer.address ? lands.lawyer.address : "Not Available" %></p>
                                            <!-- <ul class="property-social">
                                                <li><a href="javascript:void(0);"><i class="lab la-instagram"></i></a></li>
                                                <li><a href="javascript:void(0);"><i class="lab la-facebook-f"></i></a></li>
                                                <li><a href="javascript:void(0);"><i class="lab la-twitter"></i></a></li>
                                            </ul> -->
                                        </div>
                                        <div class="card-footer border-0 pt-0">
                                            <a href="javascript:void(0);" class="btn btn-outline-primary d-block rounded">
                                                <i class="las la-phone scale5 me-2"></i>
                                                <%= lands.lawyer.phonenumber ? lands.lawyer.phonenumber : "No Phone Number" %>
                                            </a>
                                        </div>
                                    </div>
                                <% } else { %>
                                    <!-- Display a message if no lawyer information is available -->
                                    <div class="alert alert-warning text-center">
                                        <p>Select a lawyer for this property.</p>
											
										<select id="lawyerSelect" class="default-select form-control wide" name="lawyerId" required>
											<option value="select">Select Property</option>
											<% lawyers.forEach(lawyer => { %>
												<option value="<%= lawyer.id %>"><%= lawyer.firstname %> <%= lawyer.lastname %></option>
											<% }) %>
										</select>
										
										<script>
										document.getElementById("lawyerSelect").addEventListener("change", function() {
											const lawyerId = this.value;
											this.innerText = "Processing...";
											document.getElementById('loaderOverlay').style.display = 'flex';
											if (lawyerId !== "select") { // Ensure a valid option is selected
												fetch("/lawyer/add/property", {
													method: "POST",
													headers: {
														"Content-Type": "application/json"
													},
													body: JSON.stringify({ lawyerId,propertyId:'<%=lands.id%>' })
												})
												.then(response => response.json())
												.then(data => {
													document.getElementById('loaderOverlay').style.display = 'none';
													if (data.status) {
														Swal.fire({
															icon: "success",
															title: "created",
															text: result.message,
														});
														window.location.reload()
													}
													window.location.reload()
												})
												.catch(error => {
													document.getElementById('loaderOverlay').style.display = 'none';
													console.error("Error:", error);
													if (data.status) {
														Swal.fire({
														icon: "error",
														title: "Validation Error",
														text: result.errors.toString(),
													});
													}
													window.location.reload()
												});
											}
										});
										</script>
										
                                    </div>
                                <% } %>
                            </div>
                            
                            
							<div class="col-xl-12 col-lg-6 col-md-6">
								<div class="card">
									<div class="card-header mb-0 border-0">
										<h3 class="fs-20 text-black">Property Location</h3>
									</div>
									<!-- <div class="card-body pt-0 text-center">
										<iframe class="mw-100 rounded map-area" src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d4820.9894056567555!2d75.83501800119436!3d25.147141888197254!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2sin!4v1700818791122!5m2!1sen!2sin" width="600" height="350" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
									</div> -->
									<div class="card-body pt-0 text-center">
										<iframe id="mapFrame" class="mw-100 rounded map-area"
											width="600" height="350" style="border:0;"
											allowfullscreen="" loading="lazy"
											referrerpolicy="no-referrer-when-downgrade">
										</iframe>
									</div>
									
									<script>
										function setMapAddress(address) {
											const mapFrame = document.getElementById("mapFrame");
											const encodedAddress = encodeURIComponent(address);
											mapFrame.src = `https://www.google.com/maps?q=${encodedAddress}&output=embed`;
										}
									
										// Example: Set Address dynamically
										setMapAddress("<%=lands.address%> <%=lands.state%> <%=lands.country%>");
									</script>
									<div class="card-footer border-0 p-0">
										<a href="javascript:void(0);" class="btn btn-primary d-block rounded">View in Full Screen</a>
									</div>
								</div>
							</div>
							<div class="col-xl-12 col-lg-6 col-md-6">
								<div class="card">
									<div class="card-header mb-0 border-0 pb-0">
										<h3 class="fs-20 text-black mb-0">Owner History</h3>
									</div>
									<div class="card-body pt-4">
										<div class="media mb-3 mb-sm-4">
											<!-- <img src="images/customers/10.jpg" alt="/" class="rounded me-3" width="52"> -->
											<!-- <div class="dz-media me-3">
												<span class="icon-placeholder bg-primary text-white">
													<%=lands.prevOwnerName %>
												</span>
											</div> -->
											<div class="media-body">
												<h4 class="fs-16 font-w600 mb-0"><a href="review.html" class="text-black"><%=lands.prevOwnerName %></a></h4>
												<span class="fs-14 d-block mb-2"><%=lands.prevOwnerPhone%></span>
												<span class="fs-14 d-block mb-2"><%=lands.prevOwnerAddress%></span>
												<!-- <div class="star-icons">
													<i class="las la-star fs-16"></i>
													<i class="las la-star fs-16"></i>
													<i class="las la-star fs-16"></i>
													<i class="las la-star fs-16"></i>
													<i class="las la-star fs-16"></i>
												</div> -->
											</div>
										</div>
										
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="col-xl-9 col-xxl-8">
						<div class="row">
							<div class="col-xl-12">
								<div class="card">
									<div class="card-body">
										<div id="lightgallery" class="front-view-slider mb-sm-5 mb-3 owl-carousel">
											<% if (lands && lands.images && Array.isArray(lands.images) && lands.images.length > 0) { %>
												<% lands.images.forEach((image) => { %>
                                                <div class="items">
                                                    <div class="front-view">
                                                        <img src="<%=image?.imgurl || ""%>" alt="/">
                                                        <div class="info">
                                                            <!-- <h3 class="mb-2 text-white">Front View</h3>
                                                            <p class="mb-0">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi</p> -->
                                                        </div>
														
                                                        <div class="buttons">
                                                            <a data-bs-toggle="modal" data-bs-target="#uploadmore" href="javascript:void(0);" class="me-4">
																<svg fill="#42390b" height="34px" width="64px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 490.955 490.955" xml:space="preserve" stroke="#42390b"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="8.83719"></g><g id="SVGRepo_iconCarrier"> <path id="XMLID_448_" d="M445.767,308.42l-53.374-76.49v-20.656v-11.366V97.241c0-6.669-2.604-12.94-7.318-17.645L312.787,7.301 C308.073,2.588,301.796,0,295.149,0H77.597C54.161,0,35.103,19.066,35.103,42.494V425.68c0,23.427,19.059,42.494,42.494,42.494 h159.307h39.714c1.902,2.54,3.915,5,6.232,7.205c10.033,9.593,23.547,15.576,38.501,15.576c26.935,0-1.247,0,34.363,0 c14.936,0,28.483-5.982,38.517-15.576c11.693-11.159,17.348-25.825,17.348-40.29v-40.06c16.216-3.418,30.114-13.866,37.91-28.811 C459.151,347.704,457.731,325.554,445.767,308.42z M170.095,414.872H87.422V53.302h175.681v46.752 c0,16.655,13.547,30.209,30.209,30.209h46.76v66.377h-0.255v0.039c-17.685-0.415-35.529,7.285-46.934,23.46l-61.586,88.28 c-11.965,17.134-13.387,39.284-3.722,57.799c7.795,14.945,21.692,25.393,37.91,28.811v19.842h-10.29H170.095z M410.316,345.771 c-2.03,3.866-5.99,6.271-10.337,6.271h-0.016h-32.575v83.048c0,6.437-5.239,11.662-11.659,11.662h-0.017H321.35h-0.017 c-6.423,0-11.662-5.225-11.662-11.662v-83.048h-32.574h-0.016c-4.346,0-8.308-2.405-10.336-6.271 c-2.012-3.866-1.725-8.49,0.783-12.07l61.424-88.064c2.189-3.123,5.769-4.984,9.57-4.984h0.017c3.802,0,7.38,1.861,9.568,4.984 l61.427,88.064C412.04,337.28,412.328,341.905,410.316,345.771z"></path> </g></svg>
                                                            </a>
                                                            <a href="<%=image?.imgurl || ""%>" data-src="<%=image?.imgurl || ""%>" class="lg-item">
                                                                <svg width="64px" height="34px" viewBox="0 0 16 16" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" version="1.1" id="svg7384" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><metadata id="metadata90"><rdf:rdf><cc:work><dc:format>image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"></dc:type><dc:title></dc:title><dc:date>2021</dc:date><dc:creator><cc:agent><dc:title>Timoth√©e Giet</dc:title></cc:agent></dc:creator><cc:license rdf:resource="http://creativecommons.org/licenses/by-sa/4.0/"></cc:license></cc:work><cc:license rdf:about="http://creativecommons.org/licenses/by-sa/4.0/"><cc:permits rdf:resource="http://creativecommons.org/ns#Reproduction"></cc:permits><cc:permits rdf:resource="http://creativecommons.org/ns#Distribution"></cc:permits><cc:requires rdf:resource="http://creativecommons.org/ns#Notice"></cc:requires><cc:requires rdf:resource="http://creativecommons.org/ns#Attribution"></cc:requires><cc:permits rdf:resource="http://creativecommons.org/ns#DerivativeWorks"></cc:permits><cc:requires rdf:resource="http://creativecommons.org/ns#ShareAlike"></cc:requires></cc:license></rdf:rdf></metadata><path id="rect4082" d="M1 1v14h14V1zm1 1h12v12H2z" style="fill:#42390b;fill-opacity:1;stroke:none;stroke-width:.875"></path><path id="path847" d="M5 3a2 2 0 0 0-2 2 2 2 0 0 0 2 2 2 2 0 0 0 2-2 2 2 0 0 0-2-2zm0 1a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1z" style="opacity:1;vector-effect:none;fill:#42390b;fill-opacity:1;stroke:none;stroke-width:4;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:3.20000005;stroke-opacity:.55063291"></path><path id="path869" d="m3 12 1 1 3-3 1 1 2-2 2 2 1-1-3-3-2 2-1-1z" style="fill:#42390b;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"></path></g></svg>
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>
												<% }) %>
												<% } else { %>

													<p>No images available</p>
													<% } %>
											
											
										</div>
										<div class="modal fade none-border" id="uploadmore">
											<div class="modal-dialog">
												<div class="modal-content">
													<div class="modal-header">
														<h4 class="modal-title">Add more pictures</h4>
													</div>
													<div class="modal-body">
														<form id="addimages">
															<div class="column">
																<div class="mb-3 col-lg-4 col-md-6">
																	<label for="formFileMultiple" class="form-label">Multiple files input example</label>
																	<input class="form-control"  type="file" id="formFileMultiple" multiple>
																 
																</div>
															</div>
														</form>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-danger light waves-effect" data-bs-dismiss="modal">Close</button>
														<button type="button" class="btn btn-primary waves-effect waves-light save-category" data-bs-dismiss="modal" id="submitBtnupload">Save</button>
													</div>
												</div>
											</div>
										</div>
										
										<div>
											<a href="javascript:void(0);" class="btn btn-primary rounded mb-4"><%=lands.type %></a>
											<div class="d-md-flex d-block mb-sm-5 mb-3">
												<div class="me-auto mb-md-0 mb-4">
													<h3><%=lands.name %></h3>
													<span class="fs-16">
														<svg width="24" height="24" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
															<path fill-rule="evenodd" clip-rule="evenodd" d="M10.9475 4.78947C8.94136 4.78947 7.02346 5.55047 5.61418 6.89569C4.20599 8.23987 3.42116 10.056 3.42116 11.9426C3.42116 14.7033 5.29958 17.3631 7.32784 19.4068C8.3259 20.4124 9.32653 21.2351 10.0786 21.8068C10.434 22.077 10.7326 22.29 10.9475 22.4389C11.1623 22.29 11.4609 22.077 11.8163 21.8068C12.5684 21.2351 13.569 20.4124 14.5671 19.4068C16.5954 17.3631 18.4738 14.7033 18.4738 11.9426C18.4738 10.056 17.689 8.23987 16.2808 6.89569C14.8715 5.55047 12.9536 4.78947 10.9475 4.78947ZM10.9475 23.2632C10.5801 23.8404 10.58 23.8403 10.5797 23.8401L10.5792 23.8398L10.5774 23.8387L10.5718 23.835L10.5517 23.8221C10.5345 23.8109 10.5097 23.7948 10.4779 23.7737C10.4143 23.7317 10.3224 23.6701 10.2063 23.5901C9.97419 23.43 9.64481 23.1959 9.25054 22.8962C8.46315 22.2977 7.41114 21.4333 6.35658 20.3707C4.27957 18.278 2.05273 15.2776 2.05273 11.9426C2.05273 9.67199 2.99797 7.50121 4.66932 5.90583C6.33959 4.31148 8.59845 3.42105 10.9475 3.42105C13.2965 3.42105 15.5554 4.31148 17.2256 5.90583C18.897 7.50121 19.8422 9.67199 19.8422 11.9426C19.8422 15.2776 17.6154 18.278 15.5384 20.3707C14.4838 21.4333 13.4318 22.2977 12.6444 22.8962C12.2501 23.1959 11.9207 23.43 11.6886 23.5901C11.5725 23.6701 11.4806 23.7317 11.417 23.7737C11.3979 23.7864 11.3814 23.7972 11.3675 23.8063C11.3582 23.8124 11.3501 23.8176 11.3432 23.8221L11.3232 23.835L11.3175 23.8387L11.3158 23.8398L11.3152 23.8401C11.315 23.8403 11.3148 23.8404 10.9475 23.2632ZM10.9475 23.2632L11.3148 23.8404C11.0907 23.983 10.8043 23.983 10.5801 23.8404L10.9475 23.2632Z" fill="#666666"/>
															<path fill-rule="evenodd" clip-rule="evenodd" d="M10.9474 10.2632C9.81378 10.2632 8.89479 11.1822 8.89479 12.3158C8.89479 13.4494 9.81378 14.3684 10.9474 14.3684C12.0811 14.3684 13.0001 13.4494 13.0001 12.3158C13.0001 11.1822 12.0811 10.2632 10.9474 10.2632ZM7.52637 12.3158C7.52637 10.4264 9.05802 8.89474 10.9474 8.89474C12.8368 8.89474 14.3685 10.4264 14.3685 12.3158C14.3685 14.2052 12.8368 15.7368 10.9474 15.7368C9.05802 15.7368 7.52637 14.2052 7.52637 12.3158Z" fill="#666666"/>
														</svg>
                                                        <%=lands.address %></span>
														<br>
														<span>
															<div class="" style="color: #5b5101;">
																isFreshLand:	<%=lands.freshLand %></span>
															</div>
														</span>
													</div>
													
												<div class="ms-md-4 text-md-right">
													<p class="text-black mb-1 me-1">Price range</p>
													<form id="updateAmountForm">
														<h3 contenteditable="true" id="amountField" class="text-primary">
															<%= lands.amount.toLocaleString('en-NG', { minimumFractionDigits: 2 }) %>
														</h3>
														<button type="submit" id="updateButton" class="btn btn-primary mt-2" style="display: none;">
															Update Amount
														</button>
													</form>
													<script>
														document.addEventListener("DOMContentLoaded", function () {
															const amountField = document.getElementById("amountField");
															const updateButton = document.getElementById("updateButton");
														
															// Function to format number with commas
															function formatAmount(value) {
																value = value.replace(/[^0-9.]/g, ""); // Remove non-numeric except dot
																if (value === "") return ""; // If empty, return blank
																let parts = value.split(".");
																let intPart = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ","); // Add commas
																let decimalPart = parts.length > 1 ? "." + parts[1].substring(0, 2) : ""; // Keep only two decimal places
																return intPart + decimalPart;
															}
														
															amountField.addEventListener("input", function (e) {
																let text = amountField.innerText.replace(/,/g, ""); // Remove commas for processing
																let formatted = formatAmount(text);
														
																// Prevent unwanted extra updates
																if (formatted !== amountField.innerText) {
																	setTimeout(() => {
																		amountField.innerText = formatted;
																		moveCursorToEnd(amountField);
																	}, 0);
																}
														
																updateButton.style.display = "block"; // Show button when editing
															});
														
															// Move cursor to the end of contenteditable
															function moveCursorToEnd(el) {
																let range = document.createRange();
																let selection = window.getSelection();
																range.selectNodeContents(el);
																range.collapse(false);
																selection.removeAllRanges();
																selection.addRange(range);
															}
														
															document.getElementById("updateAmountForm").addEventListener("submit", function (event) {
																event.preventDefault(); // Prevent default form submission
														
																const amountText = amountField.innerText.trim();
																const numericAmount = parseFloat(amountText.replace(/,/g, "")); // Convert to float
														
																if (isNaN(numericAmount)) {
																	alert("Please enter a valid amount.");
																	return;
																}
														
																fetch("/property/update/amount", {
																	method: "POST",
																	headers: { "Content-Type": "application/json" },
																	body: JSON.stringify({ amount: numericAmount,propertyId:'<%=lands.id%>' })
																})
																.then(response => response.json())
																.then(data => {
																	if (data.status) {
																		
																		Swal.fire({
																		icon: "success",
																		title: "edited",
																		text: data.message,
																	});
																	updateButton.style.display = "none"; // Hide button after update
																	window.location.reload()
																		
																	}
																})
																.catch(error => {
																	console.error("Error:", error);
																	alert("Failed to update amount.");
																});
															});
														});
														</script>
														
												</div>
											</div>
											<div class="mb-sm-5 mb-2">
												<a href="/tenant?type=filter&propertyId=<%=lands.id%>" class="btn btn-primary light rounded me-2 mb-sm-0 mb-2">
													<i class="flaticon-381-battery-5"></i>
													Tenants <%=tenantCount%>
												</a>
												<a href="/expenses?id=<%=lands.id%>" class="btn btn-primary light rounded me-2 mb-sm-0 mb-2">
													<i class="flaticon-381-battery-9"></i>
													Expenses <%=expensesCount%>
												</a>
												<a href="/room?type=filter&propertyId=<%=lands.id%>" class="btn btn-primary light rounded mb-sm-0 mb-2">
													<i class="flaticon-381-blueprint"></i>
													Room <%=roomCount%>
												</a>
												<a href="/room?type=filter&propertyId=<%=lands.id%>" class="btn btn-primary light rounded mb-sm-0 mb-2">
													<i class="flaticon-381-blueprint"></i>
													Shop <%=shopCount%>
												</a>
												<a href="/property?type=dashboard&propertyId=<%=lands.id%>" class="btn btn-primary light rounded mb-sm-0 mb-2">
													<i class="flaticon-381-blueprint"></i>
													View analytics
												</a>
												<button data-bs-toggle="modal" data-bs-target="#generateroom" class="btn btn-primary  rounded mb-sm-0 mb-2">
													<i class="flaticon-381-blueprint"></i>
													Generate rooms
												</button>
												<div class="modal fade" id="generateroom">
													<div class="modal-dialog modal-dialog-centered" role="document">
														<div class="modal-content">
															<div class="modal-header">
																<h5 class="modal-title">Generate Rooms</h5>
																<button type="button" class="btn-close" data-bs-dismiss="modal">
																</button>
															</div>
															<div class="modal-body">
																<form id="propertyFormGen">
																	<div class="row">
													
																	
																	  <div class="mb-3 col-lg-4 col-md-6">
																		<label class="form-label">Floors</label>
																		<input type="number" required name="floors" class="form-control" placeholder="1" min="1">
																	  </div>
																  
																	  <div class="mb-3 col-lg-4 col-md-6">
																		<label class="form-label">Total Rooms</label>
																		<input type="number" required name="totalroom" class="form-control" placeholder="input a number" min="0">
																	  </div>
																	  <div class="mb-3 col-lg-4 col-md-6">
																		<label class="form-label">How Many 1Bed</label>
																		<input type="number" required name="bedcount1" class="form-control" placeholder="input a number" min="0">
																	  </div>
																	  <div class="mb-3 col-lg-4 col-md-6">
																		<label class="form-label">1Bed Amount</label>
																		<input type="number" required name="bedamount1" class="form-control" placeholder="input a number" min="0">
																	  </div>
																	  <div class="mb-3 col-lg-4 col-md-6">
																		<label class="form-label">How Many 2Bed</label>
																		<input type="number" required name="bedcount2" class="form-control" placeholder="input a number" min="0">
																	  </div>
																	  <div class="mb-3 col-lg-4 col-md-6">
																		<label class="form-label">2Bed Amount</label>
																		<input type="number" required name="bedamount2" class="form-control" placeholder="input a number" min="0">
																	  </div>
																	  <div class="mb-3 col-lg-4 col-md-6">
																		<label class="form-label">How Many 3Bed</label>
																		<input type="number" required name="bedcount3" class="form-control" placeholder="input a number" min="0">
																	  </div>
																	  <div class="mb-3 col-lg-4 col-md-6">
																		<label class="form-label">3Bed Amount</label>
																		<input type="number" required name="bedamount3" class="form-control" placeholder="input a number" min="0">
																	  </div>
																	  <div class="mb-3 col-lg-4 col-md-6">
																		<label class="form-label">How Many 4Bed</label>
																		<input type="number" required name="bedcount4" class="form-control" placeholder="input a number" min="0">
																	  </div>
																	  <div class="mb-3 col-lg-4 col-md-6">
																		<label class="form-label">4Bed Amount</label>
																		<input type="number" required name="bedamount4" class="form-control" placeholder="input a number" min="0">
																	  </div>
																	  <div class="mb-3 col-lg-4 col-md-6">
																		<label class="form-label">Shops?</label>
																		<input type="number" required name="shopcount"  class="form-control" placeholder="input a number" min="0">
																	  </div>
																	  <div class="mb-3 col-lg-4 col-md-6">
																		<label class="form-label">Shop Amount</label>
																		<input type="number" required name="shopamount" class="form-control" placeholder="1" min="0">
																	  </div>
																  
								
																	  <div class="mb-3">
																		  <button  class="btn btn-primary btn-xs" id="submitBtnGen">Submit</button>
																	  </div>
																	  
																  
																	  <!-- <div class="mb-3 col-12 text-center">
																		<button type="submit" class="btn btn-primary">Submit</button>
																	  </div> -->
																	</div>
																  </form>
																
																
																
															</div>
															<!-- <div class="modal-footer">
																<button type="button" class="btn btn-danger light" data-bs-dismiss="modal">Close</button>
																<button type="button" class="btn btn-primary">Save changes</button>
															</div> -->
														</div>
													</div>
												</div>
											</div>
											<h4 >Description</h4>
											<br>
											<form id="updateDescForm">
												<p style="border: #42390b 1px solid;padding: 1em; border-radius: 8px;" contenteditable="true" id="descField" class="editable-text">
													<%= lands.description %>
												</p>
												<button type="submit" id="saveDescButton" class="btn btn-primary mt-2" style="display: none;">
													Save
												</button>
											</form>
											
											<script>
											document.addEventListener("DOMContentLoaded", function () {
												const descField = document.getElementById("descField");
												const saveButton = document.getElementById("saveDescButton");
											
												// Show button when user starts typing
												descField.addEventListener("input", function () {
													saveButton.style.display = "block"; 
												});
											
												// Submit updated description
												document.getElementById("updateDescForm").addEventListener("submit", function (event) {
													event.preventDefault(); // Prevent default form submission
											
													const updatedDesc = descField.innerText.trim();
											
													if (updatedDesc === "") {
														alert("Description cannot be empty.");
														return;
													}
											
													fetch("/property/update/desc", {
														method: "POST",
														headers: { "Content-Type": "application/json" },
														body: JSON.stringify({ description: updatedDesc,propertyId:'<%=lands.id%>' })
													})
													.then(response => response.json())
													.then(data => {
														if (data.status) {
																		
																		Swal.fire({
																		icon: "success",
																		title: "edited",
																		text: data.message,
																	});
																	updateButton.style.display = "none"; // Hide button after update
																	window.location.reload()
																}
														saveButton.style.display = "none"; // Hide button after update
													})
													.catch(error => {
														console.error("Error:", error);
														alert("Failed to update description.");
													});
												});
											});
											</script>
										</div>
									</div>
								</div>
							</div>
							<!-- <div class="col-xl-12">
								<div class="card">
									<div class="card-body">
										<div class="image-gallery owl-carousel">
											<div class="items">
												<img src="images/gallery/1.png" alt="/">
											</div>
											<div class="items">
												<img src="images/gallery/2.png" alt="/">
											</div>
											<div class="items">
												<img src="images/gallery/3.png" alt="/">
											</div>
											<div class="items">
												<img src="images/gallery/1.png" alt="/">
											</div>
											<div class="items">
												<img src="images/gallery/2.png" alt="/">
											</div>
											<div class="items">
												<img src="images/gallery/3.png" alt="/">
											</div>
										</div>
									</div>
								</div>
							</div> -->
							<div class="col-xl-12">
								<div class="card property-features">
									<div class="card-header border-0 pb-0">	
										<% if (lands.isSold) { %>
											<div class="sold-property-details-container">
											  <div class="sold-property-details">
												<h3>Sold Property Details</h3>
												<p><strong>New Owner Name:</strong> <%= lands.newOwnerName || "N/A" %></p>
												<p><strong>New Owner Email:</strong> <%= lands.newOwnerEmail || "N/A" %></p>
												<p><strong>New Owner Address:</strong> <%= lands.newOwnerAddress || "N/A" %></p>
												<p><strong>New Owner Phone:</strong> <%= lands.newOwnerPhone || "N/A" %></p>
												<p><strong>Acquired Date:</strong> <%= lands.start || "N/A" %></p>
												<p><strong>Sold Date</strong> <%= lands.soldDate || "N/A" %></p>
												<p>
												  <strong>Sold Amount:</strong>
												  ‚Ç¶<%= lands.soldAmount ? Number(lands.soldAmount).toLocaleString('en-NG', { minimumFractionDigits: 2 }) : "0.00" %>
												</p>
												<p>
												  <strong>Sold Date:</strong>
												  <%= lands.soldDate ? new Date(lands.soldDate).toLocaleDateString() : "N/A" %>
												</p>
											  </div>
											</div>
										  <% } %>
										  <% if (!lands.isSold) { %>
										<h3 class="fs-20 text-black mb-0">Property Duration</h3>
										<% } %>
										<% if (!lands.isSold) { %>
											<button class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#sell">
											  Sell this Property
											</button>
										  <% } %>
										  
										  
										  

										<div class="modal fade" id="sell">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Sell Property</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
				<form id="sellForm">
					<div class="mb-3">
						<label class="form-label">New Owner Name</label>
						<input type="text" name="newOwnerName" id="newOwnerName" class="form-control" required>
					</div>
					<div class="mb-3">
						<label class="form-label">New Owner Email</label>
						<input type="email" name="newOwnerEmail" id="newOwnerEmail" class="form-control" required>
					</div>
					<div class="mb-3">
						<label class="form-label">New Owner Address</label>
						<input type="text" name="newOwnerAddress" id="newOwnerAddress" class="form-control" required>
					</div>
					<div class="mb-3">
						<label class="form-label">New Owner Phone</label>
						<input type="tel" name="newOwnerPhone" id="newOwnerPhone" class="form-control" required pattern="\d{10,}">
					</div>
					<div class="mb-3">
						<label class="form-label">Sold Amount (‚Ç¶)</label>
						<!-- Changed to type="text" so we can format it with the Naira symbol -->
						<input type="text" name="soldAmount" id="soldAmount" class="form-control" required>
					</div>
					<div class="mb-3">
						<label class="form-label">Sold Date</label>
						<input type="date" name="soldDate" id="soldDate" class="form-control" required>
					</div>
					<button type="submit" class="btn btn-primary" id="submitBtn">
						Sell Now
						<span id="loader" class="spinner-border spinner-border-sm" role="status" aria-hidden="true" style="display: none;"></span>
					</button>
				</form>
				
				<script>
				document.addEventListener("DOMContentLoaded", function () {
					const form = document.getElementById("sellForm");
					const submitBtn = document.getElementById("submitBtn");
					const loader = document.getElementById("loader");
					const soldAmountInput = document.getElementById("soldAmount");
					const soldDateInput = document.getElementById("soldDate");
				
					// Function to format a numeric value as Nigerian currency.
					function formatAmount(value) {
						// Remove non-digit and non-dot characters.
						value = value.replace(/[^0-9.]/g, "");
						if (value === "") return "";
						
						// Split into integer and decimal parts.
						let parts = value.split(".");
						let intPart = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ",");
						let decimalPart = parts.length > 1 ? "." + parts[1].substring(0, 2) : ".00"; // Default to .00 if no decimals.
						// If decimal part is a single digit, pad with a 0.
						if (decimalPart.length === 2) decimalPart += "0";
						
						return `‚Ç¶${intPart}${decimalPart}`;
					}
				
					// On focus, remove formatting so user sees the raw number.
					soldAmountInput.addEventListener("focus", function () {
						soldAmountInput.value = soldAmountInput.value.replace(/‚Ç¶|,/g, "");
					});
				
					// On blur, format the number.
					soldAmountInput.addEventListener("blur", function () {
						if (soldAmountInput.value.trim() !== "") {
							soldAmountInput.value = formatAmount(soldAmountInput.value);
						}
					});
				
					// Prevent invalid keys on soldAmount input.
					soldAmountInput.addEventListener("keydown", function (e) {
						const allowedKeys = ["Backspace", "Delete", "ArrowLeft", "ArrowRight", "Tab", "Home", "End"];
						if (!/\d/.test(e.key) && e.key !== "." && !allowedKeys.includes(e.key)) {
							e.preventDefault();
						}
					});
				
					// Handle form submission.
					form.addEventListener("submit", function (event) {
						event.preventDefault();
						
						// Remove formatting to get the raw numeric value.
						const rawAmount = soldAmountInput.value.replace(/‚Ç¶|,/g, "");
						const numericAmount = parseFloat(rawAmount);
						if (isNaN(numericAmount)) {
							alert("Please enter a valid amount.");
							return;
						}
						
						const formData = {
							newOwnerName: document.getElementById("newOwnerName").value.trim(),
							newOwnerEmail: document.getElementById("newOwnerEmail").value.trim(),
							newOwnerAddress: document.getElementById("newOwnerAddress").value.trim(),
							newOwnerPhone: document.getElementById("newOwnerPhone").value.trim(),
							soldAmount: numericAmount, // send as number
							soldDate: soldDateInput.value,
							propertyId:'<%=lands.id%>' ,
							isSold:true,
						};
				
						// Validate phone number (at least 10 digits).
						if (!/^\d{10,}$/.test(formData.newOwnerPhone)) {
							alert("Invalid phone number. Must be at least 10 digits.");
							return;
						}
				
						if (!formData.soldDate) {
							alert("Please select a sold date.");
							return;
						}
				
						submitBtn.disabled = true;
						loader.style.display = "inline-block";
				
						fetch("/property/update/sold", {
							method: "POST",
							headers: { "Content-Type": "application/json" },
							body: JSON.stringify(formData),
						})
						.then(response => response.json())
						.then(data => {
							alert("Property sold successfully!");
							submitBtn.disabled = false;
							loader.style.display = "none";
							form.reset();
						})
						.catch(error => {
							console.error("Error:", error);
							alert("Failed to sell property.");
							submitBtn.disabled = false;
							loader.style.display = "none";
						});
					});
				});
				</script>
				
            </div>
        </div>
    </div>
</div>





  

									</div>
									<div class="card-body">
										<% if (!lands.isSold) { %>
											<p><i class="las la-check-circle"></i> Acquired Date : <%= lands.start %> </p>
											<br>
											<p><i class="las la-clock"></i> End Date : <%= lands.end %></p>
										  <% } %>
										
									  
										
									  </div>
									  
								</div>
							</div>
						</div>
					</div>
				</div>
            </div>
        </div>
        <!--**********************************
            Content body end
        ***********************************-->

        <!--**********************************
            Footer start
        ***********************************-->
        <div class="footer">
            <div class="copyright">
                <p>Copyright ¬© Designed &amp; Developed by <a href="http://dexignzone.com/" target="_blank">DexignZone</a> <span class="current-year">2024</span></p>
            </div>
        </div>
        <!--**********************************
            Footer end
        ***********************************-->

		<!--**********************************
           Support ticket button start
        ***********************************-->

        <!--**********************************
           Support ticket button end
        ***********************************-->


    </div>
    <!--**********************************
        Main wrapper end
    ***********************************-->

    <!--**********************************
        Scripts
    ***********************************-->
    <!-- Required vendors -->
    <script src="vendor/global/global.min.js"></script>
	<script src="vendor/bootstrap-select/dist/js/bootstrap-select.min.js"></script>
	<script src="vendor/chartjs/chart.bundle.min.js"></script>
	<script src="vendor/owl-carousel/owl.carousel.js"></script>
	<script src="vendor/lightgallery/dist/lightgallery.min.js"></script>
	<script src="vendor/lightgallery/dist/plugins/thumbnail/lg-thumbnail.min.js"></script>
	<script src="vendor/lightgallery/dist/plugins/zoom/lg-zoom.min.js"></script>
    <script src="js/custom.min.js"></script>
	<script src="js/deznav-init.js"></script>
	<script>
		function assignedDoctor()
		{
		
			/*  testimonial one function by = owl.carousel.js */
			jQuery('.front-view-slider').owlCarousel({
				loop:false,
				margin:30,
				nav:true,
				autoplaySpeed: 3000,
				navSpeed: 3000,
				paginationSpeed: 3000,
				slideSpeed: 3000,
				smartSpeed: 3000,
				autoplay: false,
				dots:true,
				navText: ['', ''],
				responsive:{
					0:{
						items:1
					},
					
					480:{
						items:1
					},			
					
					767:{
						items:1
					},
					1750:{
						items:1
					}
				}
			})
			jQuery('.image-gallery').owlCarousel({
				loop:false,
				margin:30,
				nav:true,
				autoplaySpeed: 3000,
				navSpeed: 3000,
				paginationSpeed: 3000,
				slideSpeed: 3000,
				smartSpeed: 3000,
				autoplay: false,
				navText: ['<i class="fas fa-caret-left"></i>', '<i class="fas fa-caret-right"></i>'],
				responsive:{
					0:{
						items:1
					},
					
					480:{
						items:1
					},			
					
					767:{
						items:2
					},
					1750:{
						items:3
					}
				}
			})
		}
		
		jQuery(window).on('load',function(){
			setTimeout(function(){
				assignedDoctor();
			}, 1000); 
		});
		
	</script>	
	<script>
		document.addEventListener("DOMContentLoaded", function () {
			const form = document.getElementById("payForm");
			const propertyType = document.getElementById("propertyType");
			const endDate = document.getElementById("end");
			const submitBtn = document.getElementById("submitBtn");
			const loader = document.getElementById("loader");
		
			// Hide "end" date field if PERSONAL is selected
			propertyType.addEventListener("change", function () {
				if (this.value === "PERSONAL") {
					endDate.style.display = "none";
					endDate.value = ""; // Clear value when hidden
				} else {
					endDate.style.display = "block";
				}
			});
		
			form.addEventListener("submit", async function (e) {
				e.preventDefault();
		
				// Show loader and disable button
				submitBtn.disabled = true;
				loader.style.display = "inline-block";
		
				const formData = new FormData(form);
				const data = Object.fromEntries(formData.entries());
		
				if (data.type === "PERSONAL") {
					delete data.end; // Remove end date if PERSONAL
				}
		
				try {
					const response = await fetch("/property/<%=lands.id%>", {
						method: "PATCH",
						headers: {
							"Content-Type": "application/json",
						},
						body: JSON.stringify(data),
					});
		
					const result = await response.json(); // Parse JSON response
		
					if (response.ok) {
						Swal.fire({
							icon: "success",
							title: "Created",
							text: result.message || "Property updated successfully!",
						});
						form.reset(); // Reset form after success
					} else {
						Swal.fire({
							icon: "error",
							title: "Error",
							text: result.message || "Failed to update property.",
						});
					}
				} catch (error) {
					Swal.fire({
						icon: "error",
						title: "Error",
						text: "Something went wrong! Please try again.",
					});
				} finally {
					// Hide loader and re-enable button
					loader.style.display = "none";
					submitBtn.disabled = false;
				}
			});
		});
		</script>
	  <script>
        document.querySelector('#submitBtn').addEventListener('click', async function (e) {
                    console.log("üöÄ ~ click:", 'submitBtn')
                    e.preventDefault();
                    this.disabled = true;
					this.innerText = "Processing...";
					document.getElementById('loaderOverlay').style.display = 'flex';

            // const form = document.getElementById('addimages');
            const formData = new FormData(form);

            // Handle file uploads to Cloudinary
            const files = document.getElementById('formFileMultiple').files;
            console.log("üöÄ ~ files:", files)
            const uploadedImages = [];

            if (files.length > 0) {
            for (let file of files) {
                const cloudinaryFormData = new FormData();
                cloudinaryFormData.append('file', file);
                cloudinaryFormData.append('upload_preset', 'soaro-realestate');
                cloudinaryFormData.append("folder", "soaro");
                cloudinaryFormData.append('api_key', 'Ilo6RYkxvGRix0UvCSGlxQwG8W0'); 

            try {
                const response = await fetch('https://api.cloudinary.com/v1_1/bada/image/upload', {
                method: 'POST',
                body: cloudinaryFormData
            });
                const data = await response.json();
                uploadedImages.push(data.secure_url);
                } catch (error) {
                    console.error('Error uploading file:', error);
                }
            }
            }

            // Convert formData to an object
            const jsonObject = {};
            formData.forEach((value, key) => {
            jsonObject[key] = value;
            });

            // Append uploaded image URLs
			if (files.length > 0) {
            jsonObject['images'] = uploadedImages;
            if (!jsonObject['images']) {
                Swal.fire({
                        icon: "error",
                        title: "Validation Error",
                        text: "error Uploading Image",
                    });
                return
            }
			}


            // Send final data to the backend
            try {
            const response = await fetch('/property/addimage', {
            method: 'POST',
            headers: {
            'Content-Type': 'application/json'
            },
            body: JSON.stringify({images:jsonObject.images,id:'<%=lands.id%>'})
            });
            const result = await response.json();
			this.disabled = false;
            console.log('Property added successfully:', result);
                if (!result.status) {
                    Swal.fire({
                        icon: "error",
                        title: "Validation Error",
                        text: result.errors.toString(),
                    });
					document.getElementById('loaderOverlay').style.display = 'none';
					this.innerText = "save";
                }else{
					Swal.fire({
							icon: "success",
							title: "created",
							text: result.message,
						});
						window.location.reload();

				}
            } catch (error) {
				document.getElementById('loaderOverlay').style.display = 'none';
                Swal.fire({
                        icon: "error",
                        title: "Validation Error",
                        text: error.message,
                    });
					this.innerText = "save";
        //         Swal.fire({
        //   icon: "error",
        //   title: "Validation Error",
        //   text: "Sum of all room types should not be greater than total rooms!",
        // });
        return;
		document.getElementById('loaderOverlay').style.display = 'none';
            console.error('Error submitting form:', error);
            }
            });

     </script>
	  <script>
        document.querySelector('#submitBtnupload').addEventListener('click', async function (e) {
                    console.log("üöÄ ~ click:", 'submitBtnupload')
                    e.preventDefault();
                    this.disabled = true;
					this.innerText = "Processing...";
					document.getElementById('loaderOverlay').style.display = 'flex';

            const form = document.getElementById('addimages');
            const formData = new FormData(form);

            // Handle file uploads to Cloudinary
            const files = document.getElementById('formFileMultiple').files;
            console.log("üöÄ ~ files:", files)
            const uploadedImages = [];

            if (files.length > 0) {
            for (let file of files) {
                const cloudinaryFormData = new FormData();
                cloudinaryFormData.append('file', file);
                cloudinaryFormData.append('upload_preset', 'soaro-realestate');
                cloudinaryFormData.append("folder", "soaro");
                cloudinaryFormData.append('api_key', 'Ilo6RYkxvGRix0UvCSGlxQwG8W0'); 

            try {
                const response = await fetch('https://api.cloudinary.com/v1_1/bada/image/upload', {
                method: 'POST',
                body: cloudinaryFormData
            });
                const data = await response.json();
                uploadedImages.push(data.secure_url);
                } catch (error) {
                    console.error('Error uploading file:', error);
                }
            }
            }

            // Convert formData to an object
            const jsonObject = {};
            formData.forEach((value, key) => {
            jsonObject[key] = value;
            });

            // Append uploaded image URLs
			if (files.length > 0) {
            jsonObject['images'] = uploadedImages;
            if (!jsonObject['images']) {
                Swal.fire({
                        icon: "error",
                        title: "Validation Error",
                        text: "error Uploading Image",
                    });
                return
            }
			}


            // Send final data to the backend
            try {
            const response = await fetch('/property/addimage', {
            method: 'POST',
            headers: {
            'Content-Type': 'application/json'
            },
            body: JSON.stringify({images:jsonObject.images,id:'<%=lands.id%>'})
            });
            const result = await response.json();
			this.disabled = false;
            console.log('Property added successfully:', result);
                if (!result.status) {
                    Swal.fire({
                        icon: "error",
                        title: "Validation Error",
                        text: result.errors.toString(),
                    });
					document.getElementById('loaderOverlay').style.display = 'none';
					this.innerText = "save";
                }else{
					Swal.fire({
							icon: "success",
							title: "created",
							text: result.message,
						});
						window.location.reload();

				}
            } catch (error) {
				document.getElementById('loaderOverlay').style.display = 'none';
                Swal.fire({
                        icon: "error",
                        title: "Validation Error",
                        text: error.message,
                    });
					this.innerText = "save";
        //         Swal.fire({
        //   icon: "error",
        //   title: "Validation Error",
        //   text: "Sum of all room types should not be greater than total rooms!",
        // });
        return;
		document.getElementById('loaderOverlay').style.display = 'none';
            console.error('Error submitting form:', error);
            }
            });

     </script>
	  <script>
        document.querySelector('#submitBtnupload').addEventListener('click', async function (e) {
                    e.preventDefault();
                    this.disabled = true;
					this.innerText = "Processing...";
					document.getElementById('loaderOverlay').style.display = 'flex';

            // const form = document.getElementById('addimages');
            const formData = new FormData(form);

            // Handle file uploads to Cloudinary
            const files = document.getElementById('formFileMultiple').files;
            console.log("üöÄ ~ files:", files)
            const uploadedImages = [];

            if (files.length > 0) {
            for (let file of files) {
                const cloudinaryFormData = new FormData();
                cloudinaryFormData.append('file', file);
                cloudinaryFormData.append('upload_preset', 'soaro-realestate');
                cloudinaryFormData.append("folder", "soaro");
                cloudinaryFormData.append('api_key', 'Ilo6RYkxvGRix0UvCSGlxQwG8W0'); 

            try {
                const response = await fetch('https://api.cloudinary.com/v1_1/bada/image/upload', {
                method: 'POST',
                body: cloudinaryFormData
            });
                const data = await response.json();
                uploadedImages.push(data.secure_url);
                } catch (error) {
                    console.error('Error uploading file:', error);
                }
            }
            }

            // Convert formData to an object
            const jsonObject = {};
            formData.forEach((value, key) => {
            jsonObject[key] = value;
            });

            // Append uploaded image URLs
			if (files.length > 0) {
            jsonObject['images'] = uploadedImages;
            if (!jsonObject['images']) {
                Swal.fire({
                        icon: "error",
                        title: "Validation Error",
                        text: "error Uploading Image",
                    });
                return
            }
			}


            // Send final data to the backend
            try {
            const response = await fetch('/property/addimage', {
            method: 'POST',
            headers: {
            'Content-Type': 'application/json'
            },
            body: JSON.stringify({images:jsonObject.images,id:'<%=lands.id%>'})
            });
            const result = await response.json();
			this.disabled = false;
            console.log('Property added successfully:', result);
                if (!result.status) {
                    Swal.fire({
                        icon: "error",
                        title: "Validation Error",
                        text: result.errors.toString(),
                    });
					document.getElementById('loaderOverlay').style.display = 'none';
					this.innerText = "save";
                }else{
					Swal.fire({
							icon: "success",
							title: "created",
							text: result.message,
						});
						window.location.reload();

				}
            } catch (error) {
				document.getElementById('loaderOverlay').style.display = 'none';
                Swal.fire({
                        icon: "error",
                        title: "Validation Error",
                        text: error.message,
                    });
					this.innerText = "save";
        //         Swal.fire({
        //   icon: "error",
        //   title: "Validation Error",
        //   text: "Sum of all room types should not be greater than total rooms!",
        // });
        return;
		document.getElementById('loaderOverlay').style.display = 'none';
            console.error('Error submitting form:', error);
            }
            });

     </script>
	  <script>
        document.querySelector('#submitBtnGen').addEventListener('click', async function (e) {
                    e.preventDefault();
                    this.disabled = true;
            this.innerText = "Processing...";
            document.getElementById('loaderOverlay').style.display = 'flex';

                 
                     // Get all input values
      const totalroom = parseInt(document.querySelector("[name='totalroom']").value) || 0;
      const bedcount1 = parseInt(document.querySelector("[name='bedcount1']").value) || 0;
      const bedcount2 = parseInt(document.querySelector("[name='bedcount2']").value) || 0;
      const bedcount3 = parseInt(document.querySelector("[name='bedcount3']").value) || 0;
      const bedcount4 = parseInt(document.querySelector("[name='bedcount4']").value) || 0;

      const totalBeds = bedcount1 + bedcount2 + bedcount3 + bedcount4;

      if (totalBeds > totalroom) {
        Swal.fire({
          icon: "error",
          title: "Validation Error",
          text: "Sum of all room types should not be greater than total rooms!",
        });
        return;
      }


            const form = document.getElementById('propertyFormGen');
            const formData = new FormData(form);

            // Handle file uploads to Cloudinary
            // const files = document.getElementById('formFileMultipleGen').files;
            // console.log("üöÄ ~ files:", files)
            // const uploadedImages = [];

            // if (files.length > 0) {
            // for (let file of files) {
            //     const cloudinaryFormData = new FormData();
            //     cloudinaryFormData.append('file', file);
            //     cloudinaryFormData.append('upload_preset', 'soaro-realestate');
            //     cloudinaryFormData.append("folder", "soaro");
            //     cloudinaryFormData.append('api_key', 'Ilo6RYkxvGRix0UvCSGlxQwG8W0'); 

            // try {
            //     const response = await fetch('https://api.cloudinary.com/v1_1/bada/image/upload', {
            //     method: 'POST',
            //     body: cloudinaryFormData
            // });
            //     const data = await response.json();
            //     uploadedImages.push(data.secure_url);
            //     } catch (error) {
            //         console.error('Error uploading file:', error);
            //     }
            // }
            // }

            // Convert formData to an object
            const jsonObject = {};
            formData.forEach((value, key) => {
            jsonObject[key] = value;
            });

            // Append uploaded image URLs
			// if (files.length > 0) {
            // jsonObject['images'] = uploadedImages;
            // if (!jsonObject['images']) {
            //     Swal.fire({
            //             icon: "error",
            //             title: "Validation Error",
            //             text: "error Uploading Image",
            //         });
            //     return
            // }
			// }


            // Send final data to the backend
            try {
            const response = await fetch('/property/generateroom', {
            method: 'POST',
            headers: {
            'Content-Type': 'application/json'
            },
            body: JSON.stringify({...jsonObject,propertyId:'<%=lands.id%>'})
            });
            const result = await response.json();
			this.disabled = false;
            console.log('Property added successfully:', result);
                if (!result.status) {
                    Swal.fire({
                        icon: "error",
                        title: "Validation Error",
                        text: result.errors.toString(),
                    });
					document.getElementById('loaderOverlay').style.display = 'none';
                }else{
					Swal.fire({
							icon: "success",
							title: "created",
							text: result.message,
						});
						window.location.reload()

				}
            } catch (error) {
				document.getElementById('loaderOverlay').style.display = 'none';
                Swal.fire({
                        icon: "error",
                        title: "Validation Error",
                        text: error.message,
                    });
        //         Swal.fire({
        //   icon: "error",
        //   title: "Validation Error",
        //   text: "Sum of all room types should not be greater than total rooms!",
        // });
        return;
		document.getElementById('loaderOverlay').style.display = 'none';
            console.error('Error submitting form:', error);
            }
            });

     </script>
	<script>
		const isSold = "<%= lands.isSold %>";
		if (isSold === "true") {
		  const soldBadge = document.createElement("div");
		  soldBadge.innerText = "SOLD";
	  
		  // Style the text to be very large, slanted, with no background.
		  soldBadge.style.position = "absolute";
		  soldBadge.style.top = "50%";
		  soldBadge.style.left = "50%";
		  soldBadge.style.transform = "translate(-50%, -50%) rotate(-45deg)";
		  soldBadge.style.fontSize = "10rem";       // Very large text
		  soldBadge.style.fontWeight = "bold";
		  soldBadge.style.color = "red";            // Text color, adjust as needed
		  soldBadge.style.opacity = "0.5";          // Optional: slightly transparent
		  soldBadge.style.pointerEvents = "none";   // Ensure it doesn't block clicks
		  soldBadge.style.zIndex = "1000";
	  
		  // Append the element to a container (first element with class "container-fluid") 
		  // or document.body if not found.
		  const containerElements = document.getElementsByClassName("container-fluid");
		  if (containerElements.length > 0) {
			containerElements[0].style.position = "relative";
			containerElements[0].appendChild(soldBadge);
		  } else {
			document.body.appendChild(soldBadge);
		  }
		}
	  </script>
	  
	  
	  
	  
	  
</body>
</html>